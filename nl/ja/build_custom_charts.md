---

copyright:
  years: 2018, 2019
lastupdated: "2019-06-06"

keywords: mobile analytics, charts, app sessions, crashes, graph

subcollection:  mobilefoundation
---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:tip: .tip}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}
{:note: .note}
{:important: .important}
{:deprecated: .deprecated}

# カスタム・グラフの構築
{: #build_custom_charts}

Mobile Analytics コンソールの「カスタム・グラフ」ビューにより、キャプチャーされて保管された分析データに関する独自の視覚化を柔軟に構築できます。  カスタム・グラフは、さらに洞察を深めるための機能が初期状態で用意されているだけでなく、カスタム・データに基づいて形成される Business Analytics にシームレスに拡張することもできます。

このビューでは、サポートされる分析データ・セットのいずれかを選択してから、サポートされるグラフ・タイプのいずれかを選択して、そのデータ・セットをプロットすることができます。  プロットされているデータに対して適用されるフィルターを定義することにより、視覚化をさらに整理することもできます。  

以下のデータ・セットがサポートされています。
 * アプリ・ログ
 * アプリ・セッション
 * カスタム・データ
 * ネットワーク・トランザクション

以下のグラフ・タイプがサポートされています。
 * 棒グラフ
 * フローチャート
 * 折れ線グラフ
 * メトリック・グループ
 * 円グラフ
 * 表

選択されたデータ・セット、プロットするグラフ・タイプ、グラフ特性の定義、および適用するデータ・フィルターは、1 つにまとめてカスタム・グラフ定義として保存することができます。  必要に応じて任意の数のカスタム・グラフ定義を作成して保存することができます。 保存したカスタム・グラフは、関連する分析データがプロットされて「カスタム・グラフ」ビューに表示されます。

## カスタム・グラフの作成
{: #creating_custom_chart}

以下の手順を使用してカスタム・グラフを作成します。

1.  Mobile Analytics ダッシュボードの**「カスタム・グラフ」**タブで、**「グラフの作成」**ボタンをクリックします。
2.  **「一般設定」**タブで、**「グラフ・タイトル」**、**「イベント・タイプ」**、および**「グラフ・タイプ」**を選択します。
3.  *「イベント・タイプ」*と*「グラフ・タイプ」*を選択すると、**「グラフの定義」**タブが表示されます。 *「グラフの定義」*タブを使用して、既に選択した指定グラフ・タイプに対するグラフを定義します。 グラフを定義した後に、グラフのフィルターとグラフのプロパティーを設定できます。
4.  **「グラフのフィルター」**を使用して、カスタム・グラフを詳細に調整します。 1 つのグラフに対して複数のフィルターを定義できます。
    例えば、アプリ・セッション平均期間を視覚化するグラフを定義した後に、特定のアプリのみを対象としてこのグラフを視覚化する場合は、以下のようにフィルターを作成できます。
    * **「プロパティー」**には、**「アプリケーション名」**を選択します。
    * **「演算子」**には、**「等しい」**を選択します。
    * **「値」**には、アプリの名前を選択します。
    * **「フィルターの追加」**をクリックします。
    アプリ名のフィルターがグラフのフィルターの表に追加されます。
5.  グラフのプロパティーは、**「表」**、**「棒グラフ」**、および**「折れ線グラフ」**の各グラフ・タイプで使用可能です。 グラフのプロパティーの目的は、データの表示方法を強化して、視覚化の効果を高めることです。
    **「表」**のグラフを作成した場合、グラフのプロパティーの設定により、表のページ・サイズ、ソートするフィールド、およびフィールドのソート順序が定義されます。
    **「棒グラフ」**または**「折れ線グラフ」**のグラフを作成した場合、グラフのプロパティーの設定により、しきい値のラインにラベルが付いて、グラフをモニターするユーザーのための基準枠が追加されます。

## カスタム・データ・ログからカスタムの洞察を得る
{: #creating_custom_chart_for_client_logs}    

アプリケーション全体でのユーザー・トレールなどより深いカスタムの洞察を得るには、まず、選択されたページ、選択されたオプション、クリックされたボタンなどの関連するユーザー・トレール情報をカスタム・データとしてキャプチャーしてから、それらをログに記録する必要があります。  カスタム・データをログに記録する方法について詳しくは、[アプリのインスツルメント](/docs/services/mobilefoundation?topic=mobilefoundation-instrument_your_app#instrument_your_app)のトピックを参照してください。

次に、「イベント・タイプ」をカスタム・データにしてカスタム・グラフ定義を作成し、グラフ・タイプを選択します。 その後、**「グラフのプロパティー」**または**「グラフのフィルター」**を定義するときには、ドロップダウン・ボックスにカスタム・データのタイプと値が表示されます。  求めている洞察の種類に関連した選択を行ってください。  

カスタムの洞察の深さと有効性は、アプリケーションで定義されキャプチャーされるカスタム・データの効果性や関連性に完全に依存しています。
{: note}

## グラフのタイプ
{: #types_of_charts}

### 棒グラフ
{:  #bar_graph}

棒グラフを使用すると、X 軸上に数値データを視覚化できます。 棒グラフを定義するときには、まず X 軸の値を選択する必要があります。 候補となる以下の値から選択できます。

* **タイムライン** - データをトレンド (例えば、ある期間内でのアプリ・セッションの平均所要時間など) として表示する場合、X 軸に*「タイムライン」*を選択します。
* **プロパティー** - 特定のプロパティーのカウント明細を表示する場合は、「プロパティー」を選択します。 X 軸に「プロパティー」を選択した場合、Y 軸には暗黙的に「合計」が選択されます。 例えば、指定のイベント・タイプのカウントをアプリ名ごとに分けて表示するには、X 軸に*「プロパティー」*を選択して、*「プロパティー」*に*「アプリケーション名」*を選択します。

X 軸の値を定義した後に、Y 軸の値を定義できます。 X 軸に*「タイムライン」*を選択した場合、Y 軸の候補として以下の値を選択できます。

* **平均** - 指定されたイベント・タイプでの数値プロパティーを平均します。
* **合計** - 指定されたイベント・タイプでのプロパティーのカウントを合計します。
* **固有** - 指定されたイベント・タイプでのプロパティーの固有カウント。
グラフの軸を定義した後に、プロパティーの値を選択する必要があります。

### 折れ線グラフ
{:  #line_graph}

折れ線グラフを使用すると、ある期間での特定のメトリックを視覚化できます。 このタイプのグラフは、時間の経過にともなうトレンドを示すデータの視覚化に役立ちます。 折れ線グラフを作成する際に最初に定義する値は**「測定」**で、この候補として以下の値があります。

* **平均** - 指定されたイベント・タイプでの数値プロパティーを平均します。
* **合計** - 指定されたイベント・タイプでのプロパティーのカウントを合計します。
* **固有** - 指定されたイベント・タイプでのプロパティーの固有カウント。
測定を定義した後に、**「プロパティー」**の値を選択する必要があります。

### フローチャート
{:  #flow_chart}

フローチャートを使用すると、あるプロパティーから別のプロパティーへのフローの明細を視覚化できます。 フローチャートでは、以下のプロパティーを設定する必要があります。

* **ソース** - 図でのソース・ノードの値。
* **宛先** - 図での宛先ノードの値。
* **プロパティー** - ソース・ノードまたは宛先ノードからのプロパティー値。
フローチャートにより、宛先に向かって流れる、またはその逆方向に向かって流れるさまざまなソースの密度詳細を表示できます。 例えば、アプリのログ重大度の明細を表示する場合、以下の値を定義できます。

* **「ソース」**には、*「アプリケーション名」*を選択します。
* **「宛先」**には、*「ログ・レベル」*を選択します。
* **「プロパティー」**には、アプリの名前を選択します。

### メトリック・グループ
{:  #metric_group}

メトリック・グループを使用すると、平均値、合計カウント、または固有カウントとして測定される単一のメトリックを視覚化できます。 メトリック・グループを定義するには、**「測定」**に、候補となる以下のいずれかの値を定義する必要があります。

* **平均** - 指定されたイベント・タイプでの数値プロパティーを平均します。
* **合計** - 指定されたイベント・タイプでのプロパティーのカウントを合計します。
* **固有** - 指定されたイベント・タイプでのプロパティーの固有カウント。
測定を定義した後に、*「プロパティー」*の値を選択する必要があります。 このメトリックは、メトリック・グループ内に表示されます。

### 円グラフ
{:  #pie_chart}

円グラフを使用すると、特定のプロパティーの値のカウント明細を視覚化できます。 例えば、異常終了の明細を表示する場合、以下の値を定義できます。

* **「イベント・タイプ」**には、*「アプリケーション・セッション」*を選択します。
* **「グラフ・タイプ」**には、*「円グラフ」*を選択します。
* **「プロパティー」**には、*「クローズの主体」*を選択します。
結果として生成される円グラフには、アプリ・セッションではなくユーザーによってクローズされた、つまり異常終了が原因でクローズされたアプリ・セッションの明細が示されます。

### 表
{:  #table}

表は、生データを参照するときに役立ちます。 表の構築は、表示する生データの列を追加するだけの簡単なものです。
特定のイベント・タイプに対してすべてのプロパティーが必要というわけではないので、表には NULL 値が表示されることもあります。 そのような行が表に示されないようにするには、**「グラフのフィルター」**タブで、特定のプロパティーに対する*「存在する」*フィルターを追加します。
