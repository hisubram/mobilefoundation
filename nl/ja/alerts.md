---

copyright:
  years: 2018, 2019
lastupdated: "2019-06-06"

keywords: mobile analytics, set up alerts, alert definitions

subcollection:  mobilefoundation
---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:tip: .tip}
{:note: .note}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}

# アラートのセットアップ
{: #set_up_alerts}

Mobile Analytics には、アプリケーションをモニターするためにアラートを定義できるアラート機能が用意されています。 しきい値を構成しておくと、その値を超えた時にアラートがトリガーされて、Mobile Analytics コンソール・モニターに通知が送られます。 トリガーされたアラートは、コンソールで視覚化して表示することもできますし、カスタム Webhook に中継して適切に処理するように構成することもできます。

この機能は、アプリケーション・エラー・ログ、アプリケーションの異常終了、およびネットワーク・トランザクションに関するしきい値の超過を検出してアラートを出すための手段となります。 アプリケーションのパフォーマンス状態に応じて対応するときに、対応するビューやグラフを継続的にモニターしなくても、すぐに反応するしきい値とアラートを使用することにより、俊敏性の高い操作が可能になります。

この機能はベータ版です。
{: note}

以下のセクションでは、アラートの作成と管理、およびそれを Mobile Analytics コンソールで表示する方法について詳しく説明します。

## アプリケーション・ログ数 (アプリ・ログ数) に対するアラート定義の作成
{: #creating_alert_def}

アプリ・ログ数に基づくアラート定義を作成できます。  例えば、特定のバージョンのアプリケーションが 3 回を超えてエラーを記録したかどうかを検査するためにアプリケーション・ログを 5 分ごとにモニターする場合は、以下のようにセットアップします。

1.  Mobile Analytics コンソールで、**「定義」**をクリックしてアラート定義ページに移動します。
2.  **「アラートの作成」**をクリックします。
3.  以下の値を指定します。
    * **アラート名**: *Alert for app logs*
    * **メッセージ**: *Error Message Alert*
    * **照会頻度**: *5 分*
    * **イベント・タイプ**: *アプリ・ログ*
        * **プロパティー**: *ログ・レベル*
            * **値**: *エラー*
            * **しきい値**: *アプリケーション・インスタンスの合計*<br/>
              *「アプリケーションの平均」*オプションを選択した場合、アプリ・ログ数の平均値がデバイス数に基づいて計算されます。 例えば、2 台のデバイスがあり、一方のデバイスが 6 件のアプリ・ログを送信して他方のデバイスが 3 件のアプリ・ログを送信する場合、平均は 4.5 件のアプリ・ログとなります。
              {: note}
            * **演算子**: *以上 (is greater than or equals)*
            * しきい値: *3*
4.  **「次へ」**をクリックして、以下の値を指定します。
    * **メソッド**: *Analytics コンソールのみ*<br/>
      それに加えて、カスタマイズされた URL に JSON ペイロードとともに POST メッセージを送信する場合、*「Analytics コンソールおよびネットワーク・ポスト」*オプションを選択します。 このオプションを選択する場合、以下のフィールドを使用できます。
      * **ネットワーク・ポスト URL**
      * **ヘッダー**
      * **認証タイプ**
      * **POST 要求本体 (POST Request Body)**
5. **「保存」**をクリックします。  

アプリ・ログのエラー・ログの数がしきい値の 3 以上に達したときに各 5 分間隔の最後にアラートをトリガーするアラート定義が作成されました。

このアラートは、アラート定義が無効になるか削除されるまで、稼働中でアクティブな状態を維持し、設定された頻度でモニターを続行します。
{: note}

## アプリケーションの異常終了に対するアラート定義の作成
{: #creating_alert_crashes}

以下の例では、アプリケーションの異常終了に関連したアラートをセットアップします。  このアラートは 2 分ごとにすべてのアプリケーションの異常終了をモニターして、観察された異常終了のカウントが 5 回を超えたときにアラートをトリガーします。

1.  Mobile Analytics コンソールで、**「定義」**をクリックしてアラート定義ページに移動します。
2.  **「アラートの作成」**をクリックします。
3.  以下の値を指定します。
    * **アラート名**: *Alert for Application Crashes*
    * **メッセージ**: *App Crash Alert*
    * **照会頻度**: *2 分*
    * **イベント・タイプ**: *アプリケーションの異常終了*
        * **アプリケーション名**: *任意のアプリケーション*
        * **任意のアプリケーション**: *任意のバージョン*
    * **しきい値**: *異常終了カウント*
    * **演算子**: *以上 (is greater than or equals)*
    * しきい値: *5*
4.  **「配布方式」**または**「次へ」**をクリックして、以下の値を指定します。
    * **メソッド**: *Analytics コンソールのみ*<br/>
      それに加えて、カスタマイズされた URL に JSON ペイロードとともに POST メッセージを送信する場合、*「Analytics コンソールおよびネットワーク・ポスト」*オプションを選択します。 このオプションを選択する場合、以下のフィールドを使用できます。
      * **ネットワーク・ポスト URL**
      * **ヘッダー**
      * **認証タイプ**
      * **POST 要求本体 (POST Request Body)**
5. **「保存」**をクリックします。  

このアラートは、アラート定義が無効になるか削除されるまで、稼働中でアクティブな状態を維持し、設定された頻度でモニターを続行します。
{: note}

## アラート定義の管理
{: #managing_alert_def}

アラートの**「定義」**ページでアラート定義を管理します。

アラート定義ごとに、以下の操作を実行できます。
* **「有効」**列の下にあるチェック・ボックスを切り替えて、特定のアラート定義を有効または無効にします。
* アラート定義のコピーを作成していくつかの値を変更する場合は、重複アイコンをクリックします。
* アラート定義を編集する場合は、鉛筆アイコンをクリックします。
* アラート定義を削除する場合は、ごみ箱アイコンをクリックします。

## アラートの表示
{: #viewing_alerts}

アラートの**「ログ」**ページでトリガーされたアラートを表示できます。

1.  Mobile Analytics コンソールで、**「ログ」**をクリックします。
2.  いずれかのアラートの **+** アイコンをクリックします。 この操作により、アラート定義と**「アラート・インスタンス」**セクションが表示されます。
    対応するアラート定義が削除も変更もされていない場合は、**「アラートの編集」**をクリックしてアラート定義を編集できます。 それ以外の場合は、**「アラートの編集」**ボタンは使用できず、以下のメッセージが表示されます。
    `このアラート定義は変更または削除されています。`
3.  オプションで、アラートを選択してごみ箱アイコンをクリックすることによりアラートを削除することもできます。
